@page "/students/createStudent"
@inject NavigationManager navManager
@inject StudentsService StudentService

<h1>Students detials</h1>
<hr/>

<EditForm Model="Student" OnSubmit="CreateStudent">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-group">
        <label>First Name:</label>
        <div>
            <InputText class="form-control" @bind-Value="@Student.FirstName" />
        </div>
    </div>
    <div class="form-group">
        <label>Last Name:</label>
        <div>
            <InputText class="form-control" @bind-Value="@Student.LastName" />
        </div>
    </div>
    <div class="form-group">
        <label>Birth date:</label>
        <div>
            <InputDate class="form-control" @bind-Value="@Student.Birthdate" />
        </div>
    </div>
    <div class="form-group">
        <label>Studies:</label>
        <div>
            <InputText class="form-control" @bind-Value="@Student.Studies" />
        </div>
    </div>
    <div>
        <button class="btn btn-success" type="submit">Create student</button>

        <NavLink class="nav-link" href="/students">
            <button class="btn btn-primary">Return</button>
        </NavLink>
    </div>

</EditForm>
@code{
    [Parameter]
    public Student Student { get; set; }
    protected override void OnInitialized()
    {
        base.OnInitialized();
        Student = new Student();
    }
    private void CreateStudent(EditContext context)
    {
        if (context.Validate())
        {
            Console.WriteLine("Correct");
            StudentService.AddStudent(Student);
        }
        
    }
}


